<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>The Upside Down</title>
        
    <link rel="stylesheet" type="text/css" href="./assets/css/reset.css">

    <link rel="stylesheet" type="text/css" href="./assets/css/style.css">
</head>   
<body>
        <div class="container">
                <header>
                    <img src="https://thedigitalwise.com/wp-content/uploads/2019/06/Stranger-Things-Season-3-header.jpg" alt="header img" height="230" width="1080">
                </header>
            </div>

            

            <div class="row">
                    <div class="col-md-7">
                            <div id="welcome">
                                    <img src="https://2fvqxa3fxpfi2sm7tt1oe5ln-wpengine.netdna-ssl.com/wp-content/uploads/2018/05/Stranger-Things-Header.jpg" alt="welcome" height="250" width="250">
                                    <br>
                                    <p>
                                        Welcome to Hawkins Hangman!
                                    </p>
                                    <p>
                                        Press any key to venture to the upside down!
                                    </p> 
                            </div>
                    </div>
                    <div class="col-md-4">
                        <div id="underscores"></div>
                        Wins: <span id="wins"></span><br>
                        Losses: <span id="losses"></span><br>
                        Guesses Left: <span id="numGuesses"></span><br>
                        <div id="wrongGuess">wrong guess</div>
                    </div>
                  </div>



            
</body>

<script type="text/javascript">


// array of words
var strangeWords = ["eleven", "hopper", "starcourt mall", "mad max", "demidog", "waffles", "hawkins"];


//chooses word randomly
var randNum = Math.floor(Math.random() * strangeWords.length);
var rightWord = [];
var wrongWord = [];
var chosenWord = strangeWords[randNum];
var underScore = [];
var wins = 0;
var losses = 0;
var guessesLeft = 10;
var winsElem = document.getElementById("wins");
var lossesElem = document.getElementById("losses");


// dom manipulation
var docUnderScore = document.getElementsByClassName('underscores');
var docRightGuess = document.getElementsByClassName('rightGuess');
var docWrongGuess = document.getElementsByClassName('wrongGuess');
document.getElementById("numGuesses").textContent = guessesLeft;


// create underscores based on length of word
var generateUnderscore = function() {
    for (let i = 0; i < chosenWord.length; i++) {
        underScore.push("_ ");
    }
    return underScore;
}

// get users guess
document.addEventListener('keypress', (event) => {
    var keycode = event.keyCode;
    var keyword = String.fromCharCode(keycode);

// is users guess is right 
    if (chosenWord.indexOf(keyword) > -1) {
    // add to users guess is right
        rightWord.push(keyword);
       
    for (let i = 0; i < chosenWord.length; i++) {
        if (chosenWord[i] === keyword)
        underScore[i] = keyword
    } 
    // replace underscore with right letter
        // underScore[chosenWord.indexOf(keyword)] = keyword;
        document.getElementById("underscores").textContent = underScore.join(' ');
        // document.getElementById("rightGuess").textContent = rightWord;
    // checks to see if user word matches guesses
        if(underScore.join('') == chosenWord) {
            alert('You Win');
        }
    }   
        else {
            wrongWord.push(keyword);
            guessesLeft--;
            // changes to HTML
            document.getElementById("numGuesses").textContent = guessesLeft;
            document.getElementsByClassName("wrongGuess").textContent = wrongWord;
        }

        if (wrongWord.indexOf(keyword) < 0) {
            wrongWord.push(keyword);
            document.getElementById("wrongGuess").textContent = wrongWord;
        } else {
            alert("Youve used this letter!")
        }   console.log(underScore)
        if (underScore.indexOf("_ ") === -1) {
        console.log("wins")
        wins++;
      } else if (wrongWord === chosenWord) {
        losses++;
      }

      winsElem.textContent = wins;
      lossesElem.textContent = losses;
      console.log(lossesElem)

});
// console.log(generateUnderscore().join(''));
document.getElementById("underscores").textContent = generateUnderscore().join(' ')

// Generate wins and losses counter on page 




</script>
</html>